{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Output } from '@angular/core';\nimport { ReactiveFormsModule, Validators } from \"@angular/forms\";\nimport { MatFormField, MatFormFieldModule, MatHint, MatLabel } from \"@angular/material/form-field\";\nimport { MatInput } from \"@angular/material/input\";\nimport { MatDatepicker, MatDatepickerInput, MatDatepickerToggle } from \"@angular/material/datepicker\";\nimport { MatNativeDateModule, provideNativeDateAdapter } from \"@angular/material/core\";\nlet BrowserFormComponent = class BrowserFormComponent {\n  constructor(fb, fs, datePipe) {\n    this.fb = fb;\n    this.fs = fs;\n    this.datePipe = datePipe;\n    this.flightsSender = new EventEmitter();\n    this.locationsSender = new EventEmitter();\n    this.locations = [];\n    this.flightForm = this.fb.group({\n      origin: ['', Validators.required],\n      destination: ['', Validators.required],\n      adults: [0, Validators.required],\n      dateOfDeparture: ['', Validators.required],\n      dateOfReturn: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    const originValue = this.flightForm.get('origin').value;\n    const destination = this.flightForm.get('destination').value;\n    console.log(this.flightForm.value);\n    if (originValue && destination) {\n      this.locations[0] = originValue;\n      this.locations[1] = destination;\n      this.locationsSender.emit(this.locations);\n      this.fs.searchCodeForCity(originValue).subscribe(res => {\n        this.flightForm.get('origin')?.setValue(res.data[0].address.cityCode);\n        console.log(this.flightForm.get('origin')?.value);\n        this.fs.searchCodeForCity(destination).subscribe(res => {\n          this.flightForm.get('destination')?.setValue(res.data[0].address.cityCode);\n          console.log(this.flightForm.get('destination')?.value);\n          this.fs.showAvailableFlights(this.flightForm).subscribe(res => {\n            this.availableFlights = res.data;\n            console.log(res);\n            console.log(this.availableFlights);\n            this.flightsSender.emit(this.availableFlights);\n          });\n        });\n      });\n    }\n  }\n  getDateValue() {\n    const currentDate = new Date(); // Replace with your actual date value\n    return this.datePipe.transform(currentDate, 'dd-MM-yyyy');\n  }\n};\n__decorate([Output()], BrowserFormComponent.prototype, \"flightsSender\", void 0);\n__decorate([Output()], BrowserFormComponent.prototype, \"locationsSender\", void 0);\nBrowserFormComponent = __decorate([Component({\n  selector: 'app-browser-form',\n  standalone: true,\n  imports: [ReactiveFormsModule, MatLabel, MatFormField, MatInput, MatDatepicker, MatFormFieldModule, MatDatepickerInput, MatNativeDateModule, MatHint, MatDatepickerToggle],\n  providers: [provideNativeDateAdapter()],\n  templateUrl: './browser-form.component.html',\n  styleUrls: ['./browser-form.component.scss']\n})], BrowserFormComponent);\nexport { BrowserFormComponent };","map":{"version":3,"names":["Component","EventEmitter","Output","ReactiveFormsModule","Validators","MatFormField","MatFormFieldModule","MatHint","MatLabel","MatInput","MatDatepicker","MatDatepickerInput","MatDatepickerToggle","MatNativeDateModule","provideNativeDateAdapter","BrowserFormComponent","constructor","fb","fs","datePipe","flightsSender","locationsSender","locations","flightForm","group","origin","required","destination","adults","dateOfDeparture","dateOfReturn","onSubmit","originValue","get","value","console","log","emit","searchCodeForCity","subscribe","res","setValue","data","address","cityCode","showAvailableFlights","availableFlights","getDateValue","currentDate","Date","transform","__decorate","selector","standalone","imports","providers","templateUrl","styleUrls"],"sources":["D:\\Projekty\\lot-flight-browser\\frontend\\src\\app\\components\\browser-form\\browser-form.component.ts"],"sourcesContent":["import {Component, EventEmitter, Output} from '@angular/core';\nimport {FormBuilder, FormGroup, ReactiveFormsModule, Validators} from \"@angular/forms\";\nimport {FlightService} from \"../../services/flight/flight.service\";\nimport {MatFormField, MatFormFieldModule, MatHint, MatLabel} from \"@angular/material/form-field\";\nimport {MatInput} from \"@angular/material/input\";\nimport {MatDatepicker, MatDatepickerInput, MatDatepickerToggle} from \"@angular/material/datepicker\";\nimport {MatNativeDateModule, provideNativeDateAdapter} from \"@angular/material/core\";\n\n@Component({\n  selector: 'app-browser-form',\n  standalone: true,\n  imports: [\n    ReactiveFormsModule,\n    MatLabel,\n    MatFormField,\n    MatInput,\n    MatDatepicker,\n    MatFormFieldModule,\n    MatDatepickerInput,\n    MatNativeDateModule,\n    MatHint,\n    MatDatepickerToggle\n  ],\n  providers:[\n    provideNativeDateAdapter()\n  ],\n  templateUrl: './browser-form.component.html',\n  styleUrls: ['./browser-form.component.scss']\n})\nexport class BrowserFormComponent {\n  @Output() flightsSender: EventEmitter<Array<any>> = new EventEmitter();\n  @Output() locationsSender: EventEmitter<string[]> = new EventEmitter();\n  availableFlights!:Array<any>;\n  locations:string[] = [];\n  flightForm!: FormGroup;\n\n  constructor(private fb: FormBuilder,\n              private fs: FlightService,\n              private datePipe: ) {\n    this.flightForm = this.fb.group({\n      origin: ['', Validators.required],\n      destination: ['', Validators.required],\n      adults: [0, Validators.required],\n      dateOfDeparture: ['', Validators.required],\n      dateOfReturn: ['', Validators.required],\n    });\n  }\n\n  onSubmit(){\n    const originValue = this.flightForm.get('origin')!.value;\n    const destination = this.flightForm.get('destination')!.value;\n    console.log(this.flightForm.value)\n   if (originValue && destination){\n     this.locations[0] = originValue;\n     this.locations[1] = destination;\n     this.locationsSender.emit(this.locations);\n     this.fs.searchCodeForCity(originValue).subscribe((res: any)=>{\n       this.flightForm.get('origin')?.setValue(res.data[0].address.cityCode)\n       console.log(this.flightForm.get('origin')?.value);\n\n       this.fs.searchCodeForCity(destination).subscribe((res: any)=>{\n         this.flightForm.get('destination')?.setValue(res.data[0].address.cityCode)\n         console.log(this.flightForm.get('destination')?.value);\n\n         this.fs.showAvailableFlights(this.flightForm).subscribe((res: any)=>{\n           this.availableFlights = res.data;\n           console.log(res)\n           console.log(this.availableFlights);\n           this.flightsSender.emit(this.availableFlights);\n         })\n       });\n     });\n   }\n  }\n\n  getDateValue(): string {\n    const currentDate = new Date(); // Replace with your actual date value\n    return this.datePipe.transform(currentDate, 'dd-MM-yyyy');\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}